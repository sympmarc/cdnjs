(function(c,b,a,e){var d=d||false;Foundation.libs.joyride={name:"joyride",version:"4.3.2",defaults:{expose:false,modal:false,tipLocation:"bottom",nubPosition:"auto",scrollSpeed:300,timer:0,startTimerOnClick:true,startOffset:0,nextButton:true,tipAnimation:"fade",pauseAfter:[],exposed:[],tipAnimationFadeSpeed:300,cookieMonster:false,cookieName:"joyride",cookieDomain:false,cookieExpires:365,tipContainer:"body",postRideCallback:function(){},postStepCallback:function(){},preStepCallback:function(){},preRideCallback:function(){},postExposeCallback:function(){},template:{link:'<a href="#close" class="joyride-close-tip">&times;</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper"></div>',button:'<a href="#" class="small button joyride-next-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',exposeCover:'<div class="joyride-expose-cover"></div>'},exposeAddClass:""},settings:{},init:function(g,h,f){this.scope=g||this.scope;Foundation.inherit(this,"throttle data_options scrollTo scrollLeft delay");if(typeof h==="object"){c.extend(true,this.settings,this.defaults,h)}else{c.extend(true,this.settings,this.defaults,f)}if(typeof h!=="string"){if(!this.settings.init){this.events()}return this.settings.init}else{return this[h].call(this,f)}},events:function(){var f=this;c(this.scope).on("click.joyride",".joyride-next-tip, .joyride-modal-bg",function(g){g.preventDefault();if(this.settings.$li.next().length<1){this.end()}else{if(this.settings.timer>0){clearTimeout(this.settings.automate);this.hide();this.show();this.startTimer()}else{this.hide();this.show()}}}.bind(this)).on("click.joyride",".joyride-close-tip",function(g){g.preventDefault();this.end()}.bind(this));c(b).on("resize.fndtn.joyride",f.throttle(function(){if(c("[data-joyride]").length>0&&f.settings.$next_tip){if(f.settings.exposed.length>0){var g=c(f.settings.exposed);g.each(function(){var h=c(this);f.un_expose(h);f.expose(h)})}if(f.is_phone()){f.pos_phone()}else{f.pos_default(false,true)}}},100));this.settings.init=true},start:function(){var g=this,i=c(this.scope).find("[data-joyride]"),f=["timer","scrollSpeed","startOffset","tipAnimationFadeSpeed","cookieExpires"],h=f.length;if(!this.settings.init){this.events()}this.settings.$content_el=i;this.settings.$body=c(this.settings.tipContainer);this.settings.body_offset=c(this.settings.tipContainer).position();this.settings.$tip_content=this.settings.$content_el.find("> li");this.settings.paused=false;this.settings.attempts=0;this.settings.tipLocationPatterns={top:["bottom"],bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]};if(typeof c.cookie!=="function"){this.settings.cookieMonster=false}if(!this.settings.cookieMonster||this.settings.cookieMonster&&c.cookie(this.settings.cookieName)===null){this.settings.$tip_content.each(function(j){var l=c(this);c.extend(true,g.settings,g.data_options(l));for(var k=h-1;k>=0;k--){g.settings[f[k]]=parseInt(g.settings[f[k]],10)}g.create({$li:l,index:j})});if(!this.settings.startTimerOnClick&&this.settings.timer>0){this.show("init");this.startTimer()}else{this.show("init")}}},resume:function(){this.set_li();this.show()},tip_template:function(g){var h,f;g.tip_class=g.tip_class||"";h=c(this.settings.template.tip).addClass(g.tip_class);f=c.trim(c(g.li).html())+this.button_text(g.button_text)+this.settings.template.link+this.timer_instance(g.index);h.append(c(this.settings.template.wrapper));h.first().attr("data-index",g.index);c(".joyride-content-wrapper",h).append(f);return h[0]},timer_instance:function(g){var f;if((g===0&&this.settings.startTimerOnClick&&this.settings.timer>0)||this.settings.timer===0){f=""}else{f=this.outerHTML(c(this.settings.template.timer)[0])}return f},button_text:function(f){if(this.settings.nextButton){f=c.trim(f)||"Next";f=this.outerHTML(c(this.settings.template.button).append(f)[0])}else{f=""}return f},create:function(h){var g=h.$li.attr("data-button")||h.$li.attr("data-text"),f=h.$li.attr("class"),i=c(this.tip_template({tip_class:f,index:h.index,button_text:g,li:h.$li}));c(this.settings.tipContainer).append(i)},show:function(g){var f=null;if(this.settings.$li===e||(c.inArray(this.settings.$li.index(),this.settings.pauseAfter)===-1)){if(this.settings.paused){this.settings.paused=false}else{this.set_li(g)}this.settings.attempts=0;if(this.settings.$li.length&&this.settings.$target.length>0){if(g){this.settings.preRideCallback(this.settings.$li.index(),this.settings.$next_tip);if(this.settings.modal){this.show_modal()}}this.settings.preStepCallback(this.settings.$li.index(),this.settings.$next_tip);if(this.settings.modal&&this.settings.expose){this.expose()}this.settings.tipSettings=c.extend(this.settings,this.data_options(this.settings.$li));this.settings.timer=parseInt(this.settings.timer,10);this.settings.tipSettings.tipLocationPattern=this.settings.tipLocationPatterns[this.settings.tipSettings.tipLocation];if(!/body/i.test(this.settings.$target.selector)){this.scroll_to()}if(this.is_phone()){this.pos_phone(true)}else{this.pos_default(true)}f=this.settings.$next_tip.find(".joyride-timer-indicator");if(/pop/i.test(this.settings.tipAnimation)){f.width(0);if(this.settings.timer>0){this.settings.$next_tip.show();this.delay(function(){f.animate({width:f.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tipAnimationFadeSpeed)}else{this.settings.$next_tip.show()}}else{if(/fade/i.test(this.settings.tipAnimation)){f.width(0);if(this.settings.timer>0){this.settings.$next_tip.fadeIn(this.settings.tipAnimationFadeSpeed).show();this.delay(function(){f.animate({width:f.parent().width()},this.settings.timer,"linear")}.bind(this),this.settings.tipAnimationFadeSpeed)}else{this.settings.$next_tip.fadeIn(this.settings.tipAnimationFadeSpeed)}}}this.settings.$current_tip=this.settings.$next_tip}else{if(this.settings.$li&&this.settings.$target.length<1){this.show()}else{this.end()}}}else{this.settings.paused=true}},is_phone:function(){if(d){return d.mq("only screen and (max-width: 767px)")||c(".lt-ie9").length>0}return(c(b).width()<767)},hide:function(){if(this.settings.modal&&this.settings.expose){this.un_expose()}if(!this.settings.modal){c(".joyride-modal-bg").hide()}this.settings.$current_tip.css("visibility","hidden");setTimeout(c.proxy(function(){this.hide();this.css("visibility","visible")},this.settings.$current_tip),0);this.settings.postStepCallback(this.settings.$li.index(),this.settings.$current_tip)},set_li:function(f){if(f){this.settings.$li=this.settings.$tip_content.eq(this.settings.startOffset);this.set_next_tip();this.settings.$current_tip=this.settings.$next_tip}else{this.settings.$li=this.settings.$li.next();this.set_next_tip()}this.set_target()},set_next_tip:function(){this.settings.$next_tip=c(".joyride-tip-guide[data-index='"+this.settings.$li.index()+"']");this.settings.$next_tip.data("closed","")},set_target:function(){var f=this.settings.$li.attr("data-class"),h=this.settings.$li.attr("data-id"),g=function(){if(h){return c(a.getElementById(h))}else{if(f){return c("."+f).first()}else{return c("body")}}};this.settings.$target=g()},scroll_to:function(){var g,f;g=c(b).height()/2;f=Math.ceil(this.settings.$target.offset().top-g+this.outerHeight(this.settings.$next_tip));if(f>0){this.scrollTo(c("html, body"),f,this.settings.scrollSpeed)}},paused:function(){return(c.inArray((this.settings.$li.index()+1),this.settings.pauseAfter)===-1)},restart:function(){this.hide();this.settings.$li=e;this.show("init")},pos_default:function(n,k){var m=Math.ceil(c(b).height()/2),l=this.settings.$next_tip.offset(),i=this.settings.$next_tip.find(".joyride-nub"),f=Math.ceil(this.outerWidth(i)/2),j=Math.ceil(this.outerHeight(i)/2),h=n||false;if(h){this.settings.$next_tip.css("visibility","hidden");this.settings.$next_tip.show()}if(typeof k==="undefined"){k=false}if(!/body/i.test(this.settings.$target.selector)){if(this.bottom()){var g=this.settings.$target.offset().left;if(Foundation.rtl){g=this.settings.$target.offset().width-this.settings.$next_tip.width()+g}this.settings.$next_tip.css({top:(this.settings.$target.offset().top+j+this.outerHeight(this.settings.$target)),left:g});this.nub_position(i,this.settings.tipSettings.nubPosition,"top")}else{if(this.top()){var g=this.settings.$target.offset().left;if(Foundation.rtl){g=this.settings.$target.offset().width-this.settings.$next_tip.width()+g}this.settings.$next_tip.css({top:(this.settings.$target.offset().top-this.outerHeight(this.settings.$next_tip)-j),left:g});this.nub_position(i,this.settings.tipSettings.nubPosition,"bottom")}else{if(this.right()){this.settings.$next_tip.css({top:this.settings.$target.offset().top,left:(this.outerWidth(this.settings.$target)+this.settings.$target.offset().left+f)});this.nub_position(i,this.settings.tipSettings.nubPosition,"left")}else{if(this.left()){this.settings.$next_tip.css({top:this.settings.$target.offset().top,left:(this.settings.$target.offset().left-this.outerWidth(this.settings.$next_tip)-f)});this.nub_position(i,this.settings.tipSettings.nubPosition,"right")}}}}if(!this.visible(this.corners(this.settings.$next_tip))&&this.settings.attempts<this.settings.tipSettings.tipLocationPattern.length){i.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left");this.settings.tipSettings.tipLocation=this.settings.tipSettings.tipLocationPattern[this.settings.attempts];this.settings.attempts++;this.pos_default()}}else{if(this.settings.$li.length){this.pos_modal(i)}}if(h){this.settings.$next_tip.hide();this.settings.$next_tip.css("visibility","visible")}},pos_phone:function(k){var j=this.outerHeight(this.settings.$next_tip),i=this.settings.$next_tip.offset(),h=this.outerHeight(this.settings.$target),g=c(".joyride-nub",this.settings.$next_tip),l=Math.ceil(this.outerHeight(g)/2),f=k||false;g.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left");if(f){this.settings.$next_tip.css("visibility","hidden");this.settings.$next_tip.show()}if(!/body/i.test(this.settings.$target.selector)){if(this.top()){this.settings.$next_tip.offset({top:this.settings.$target.offset().top-j-l});g.addClass("bottom")}else{this.settings.$next_tip.offset({top:this.settings.$target.offset().top+h+l});g.addClass("top")}}else{if(this.settings.$li.length){this.pos_modal(g)}}if(f){this.settings.$next_tip.hide();this.settings.$next_tip.css("visibility","visible")}},pos_modal:function(f){this.center();f.hide();this.show_modal()},show_modal:function(){if(!this.settings.$next_tip.data("closed")){var f=c(".joyride-modal-bg");if(f.length<1){c("body").append(this.settings.template.modal).show()}if(/pop/i.test(this.settings.tipAnimation)){f.show()}else{f.fadeIn(this.settings.tipAnimationFadeSpeed)}}},expose:function(){var g,j,i,k,f,h="expose-"+Math.floor(Math.random()*10000);if(arguments.length>0&&arguments[0] instanceof c){i=arguments[0]}else{if(this.settings.$target&&!/body/i.test(this.settings.$target.selector)){i=this.settings.$target}else{return false}}if(i.length<1){if(b.console){console.error("element not valid",i)}return false}g=c(this.settings.template.expose);this.settings.$body.append(g);g.css({top:i.offset().top,left:i.offset().left,width:this.outerWidth(i,true),height:this.outerHeight(i,true)});j=c(this.settings.template.exposeCover);k={zIndex:i.css("z-index"),position:i.css("position")};f=i.attr("class")==null?"":i.attr("class");i.css("z-index",parseInt(g.css("z-index"))+1);if(k.position=="static"){i.css("position","relative")}i.data("expose-css",k);i.data("orig-class",f);i.attr("class",f+" "+this.settings.exposeAddClass);j.css({top:i.offset().top,left:i.offset().left,width:this.outerWidth(i,true),height:this.outerHeight(i,true)});this.settings.$body.append(j);g.addClass(h);j.addClass(h);i.data("expose",h);this.settings.postExposeCallback(this.settings.$li.index(),this.settings.$next_tip,i);this.add_exposed(i)},un_expose:function(){var f,j,h,k,g,i=false;if(arguments.length>0&&arguments[0] instanceof c){j=arguments[0]}else{if(this.settings.$target&&!/body/i.test(this.settings.$target.selector)){j=this.settings.$target}else{return false}}if(j.length<1){if(b.console){console.error("element not valid",j)}return false}f=j.data("expose");h=c("."+f);if(arguments.length>1){i=arguments[1]}if(i===true){c(".joyride-expose-wrapper,.joyride-expose-cover").remove()}else{h.remove()}k=j.data("expose-css");if(k.zIndex=="auto"){j.css("z-index","")}else{j.css("z-index",k.zIndex)}if(k.position!=j.css("position")){if(k.position=="static"){j.css("position","")}else{j.css("position",k.position)}}g=j.data("orig-class");j.attr("class",g);j.removeData("orig-classes");j.removeData("expose");j.removeData("expose-z-index");this.remove_exposed(j)},add_exposed:function(f){this.settings.exposed=this.settings.exposed||[];if(f instanceof c||typeof f==="object"){this.settings.exposed.push(f[0])}else{if(typeof f=="string"){this.settings.exposed.push(f)}}},remove_exposed:function(h){var g,j;if(h instanceof c){g=h[0]}else{if(typeof h=="string"){g=h}}this.settings.exposed=this.settings.exposed||[];j=this.settings.exposed.length;for(var f=0;f<j;f++){if(this.settings.exposed[f]==g){this.settings.exposed.splice(f,1);return}}},center:function(){var f=c(b);this.settings.$next_tip.css({top:(((f.height()-this.outerHeight(this.settings.$next_tip))/2)+f.scrollTop()),left:(((f.width()-this.outerWidth(this.settings.$next_tip))/2)+this.scrollLeft(f))});return true},bottom:function(){return/bottom/i.test(this.settings.tipSettings.tipLocation)},top:function(){return/top/i.test(this.settings.tipSettings.tipLocation)},right:function(){return/right/i.test(this.settings.tipSettings.tipLocation)},left:function(){return/left/i.test(this.settings.tipSettings.tipLocation)},corners:function(j){var f=c(b),m=f.height()/2,k=Math.ceil(this.settings.$target.offset().top-m+this.settings.$next_tip.outerHeight()),i=f.width()+this.scrollLeft(f),h=f.height()+k,g=f.height()+f.scrollTop(),l=f.scrollTop();if(k<l){if(k<0){l=0}else{l=k}}if(h>g){g=h}return[j.offset().top<l,i<j.offset().left+j.outerWidth(),g<j.offset().top+j.outerHeight(),this.scrollLeft(f)>j.offset().left]},visible:function(f){var g=f.length;while(g--){if(f[g]){return false}}return true},nub_position:function(f,h,g){if(h==="auto"){f.addClass(g)}else{f.addClass(h)}},startTimer:function(){if(this.settings.$li.length){this.settings.automate=setTimeout(function(){this.hide();this.show();this.startTimer()}.bind(this),this.settings.timer)}else{clearTimeout(this.settings.automate)}},end:function(){if(this.settings.cookieMonster){c.cookie(this.settings.cookieName,"ridden",{expires:this.settings.cookieExpires,domain:this.settings.cookieDomain})}if(this.settings.timer>0){clearTimeout(this.settings.automate)}if(this.settings.modal&&this.settings.expose){this.un_expose()}this.settings.$next_tip.data("closed",true);c(".joyride-modal-bg").hide();this.settings.$current_tip.hide();this.settings.postStepCallback(this.settings.$li.index(),this.settings.$current_tip);this.settings.postRideCallback(this.settings.$li.index(),this.settings.$current_tip);c(".joyride-tip-guide").remove()},outerHTML:function(f){return f.outerHTML||new XMLSerializer().serializeToString(f)},off:function(){c(this.scope).off(".joyride");c(b).off(".joyride");c(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride");c(".joyride-tip-guide, .joyride-modal-bg").remove();clearTimeout(this.settings.automate);this.settings={}},reflow:function(){}}}(Foundation.zj,this,this.document));