(function(c,b,a,d){Foundation.libs.reveal={name:"reveal",version:"4.3.2",locked:false,settings:{animation:"fadeAndPop",animationSpeed:250,closeOnBackgroundClick:true,closeOnEsc:true,dismissModalClass:"close-reveal-modal",bgClass:"reveal-modal-bg",open:function(){},opened:function(){},close:function(){},closed:function(){},bg:c(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(f,g,e){Foundation.inherit(this,"data_options delay");if(typeof g==="object"){c.extend(true,this.settings,g)}else{if(typeof e!=="undefined"){c.extend(true,this.settings,e)}}if(typeof g!=="string"){this.events();return this.settings.init}else{return this[g].call(this,e)}},events:function(){var e=this;c(this.scope).off(".fndtn.reveal").on("click.fndtn.reveal","[data-reveal-id]",function(i){i.preventDefault();if(!e.locked){var g=c(this),h=g.data("reveal-ajax");e.locked=true;if(typeof h==="undefined"){e.open.call(e,g)}else{var f=h===true?g.attr("href"):h;e.open.call(e,g,{url:f})}}}).on("click.fndtn.reveal touchend",this.close_targets(),function(h){h.preventDefault();if(!e.locked){var f=c.extend({},e.settings,e.data_options(c(".reveal-modal.open"))),g=c(h.target)[0]===c("."+f.bgClass)[0];if(g&&!f.closeOnBackgroundClick){return}e.locked=true;e.close.call(e,g?c(".reveal-modal.open"):c(this).closest(".reveal-modal"))}});if(c(this.scope).hasClass("reveal-modal")){c(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video)}else{c(this.scope).on("open.fndtn.reveal",".reveal-modal",this.settings.open).on("opened.fndtn.reveal",".reveal-modal",this.settings.opened).on("opened.fndtn.reveal",".reveal-modal",this.open_video).on("close.fndtn.reveal",".reveal-modal",this.settings.close).on("closed.fndtn.reveal",".reveal-modal",this.settings.closed).on("closed.fndtn.reveal",".reveal-modal",this.close_video)}c("body").bind("keyup.reveal",function(h){var f=c(".reveal-modal.open"),g=c.extend({},e.settings,e.data_options(f));if(h.which===27&&g.closeOnEsc){f.foundation("reveal","close")}});return true},open:function(h,i){if(h){if(typeof h.selector!=="undefined"){var g=c("#"+h.data("reveal-id"))}else{var g=c(this.scope);i=h}}else{var g=c(this.scope)}if(!g.hasClass("open")){var f=c(".reveal-modal.open");if(typeof g.data("css-top")==="undefined"){g.data("css-top",parseInt(g.css("top"),10)).data("offset",this.cache_offset(g))}g.trigger("open");if(f.length<1){this.toggle_bg()}if(typeof i==="undefined"||!i.url){this.hide(f,this.settings.css.close);this.show(g,this.settings.css.open)}else{var e=this,j=typeof i.success!=="undefined"?i.success:null;c.extend(i,{success:function(l,m,k){if(c.isFunction(j)){j(l,m,k)}g.html(l);c(g).foundation("section","reflow");e.hide(f,e.settings.css.close);e.show(g,e.settings.css.open)}});c.ajax(i)}}},close:function(f){var f=f&&f.length?f:c(this.scope),e=c(".reveal-modal.open");if(e.length>0){this.locked=true;f.trigger("close");this.toggle_bg();this.hide(e,this.settings.css.close)}},close_targets:function(){var e="."+this.settings.dismissModalClass;if(this.settings.closeOnBackgroundClick){return e+", ."+this.settings.bgClass}return e},toggle_bg:function(){if(c("."+this.settings.bgClass).length===0){this.settings.bg=c("<div />",{"class":this.settings.bgClass}).appendTo("body")}if(this.settings.bg.filter(":visible").length>0){this.hide(this.settings.bg)}else{this.show(this.settings.bg)}},show:function(g,f){if(f){if(g.parent("body").length===0){var h=g.wrap('<div style="display: none;" />').parent();g.on("closed.fndtn.reveal.wrapped",function(){g.detach().appendTo(h);g.unwrap().unbind("closed.fndtn.reveal.wrapped")});g.detach().appendTo("body")}if(/pop/i.test(this.settings.animation)){f.top=c(b).scrollTop()-g.data("offset")+"px";var e={top:c(b).scrollTop()+g.data("css-top")+"px",opacity:1};return this.delay(function(){return g.css(f).animate(e,this.settings.animationSpeed,"linear",function(){this.locked=false;g.trigger("opened")}.bind(this)).addClass("open")}.bind(this),this.settings.animationSpeed/2)}if(/fade/i.test(this.settings.animation)){var e={opacity:1};return this.delay(function(){return g.css(f).animate(e,this.settings.animationSpeed,"linear",function(){this.locked=false;g.trigger("opened")}.bind(this)).addClass("open")}.bind(this),this.settings.animationSpeed/2)}return g.css(f).show().css({opacity:1}).addClass("open").trigger("opened")}if(/fade/i.test(this.settings.animation)){return g.fadeIn(this.settings.animationSpeed/2)}return g.show()},hide:function(g,f){if(f){if(/pop/i.test(this.settings.animation)){var e={top:-c(b).scrollTop()-g.data("offset")+"px",opacity:0};return this.delay(function(){return g.animate(e,this.settings.animationSpeed,"linear",function(){this.locked=false;g.css(f).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),this.settings.animationSpeed/2)}if(/fade/i.test(this.settings.animation)){var e={opacity:0};return this.delay(function(){return g.animate(e,this.settings.animationSpeed,"linear",function(){this.locked=false;g.css(f).trigger("closed")}.bind(this)).removeClass("open")}.bind(this),this.settings.animationSpeed/2)}return g.hide().css(f).removeClass("open").trigger("closed")}if(/fade/i.test(this.settings.animation)){return g.fadeOut(this.settings.animationSpeed/2)}return g.hide()},close_video:function(h){var g=c(this).find(".flex-video"),f=g.find("iframe");if(f.length>0){f.attr("data-src",f[0].src);f.attr("src","about:blank");g.hide()}},open_video:function(h){var g=c(this).find(".flex-video"),f=g.find("iframe");if(f.length>0){var j=f.attr("data-src");if(typeof j==="string"){f[0].src=f.attr("data-src")}else{var i=f[0].src;f[0].src=d;f[0].src=i}g.show()}},cache_offset:function(e){var f=e.show().height()+parseInt(e.css("top"),10);e.hide();return f},off:function(){c(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(Foundation.zj,this,this.document));