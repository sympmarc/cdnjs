(function(c,b,a,d){Foundation.libs.interchange={name:"interchange",version:"4.2.4",cache:{},images_loaded:false,settings:{load_attr:"interchange",named_queries:{"default":"only screen and (min-width: 1px)",small:"only screen and (min-width: 768px)",medium:"only screen and (min-width: 1280px)",large:"only screen and (min-width: 1440px)",landscape:"only screen and (orientation: landscape)",portrait:"only screen and (orientation: portrait)",retina:"only screen and (-webkit-min-device-pixel-ratio: 2),only screen and (min--moz-device-pixel-ratio: 2),only screen and (-o-min-device-pixel-ratio: 2/1),only screen and (min-device-pixel-ratio: 2),only screen and (min-resolution: 192dpi),only screen and (min-resolution: 2dppx)"},directives:{replace:function(f,g){if(/IMG/.test(f[0].nodeName)){var e=f[0].src;if(new RegExp(g,"i").test(e)){return}f[0].src=g;return f.trigger("replace",[f[0].src,e])}}}},init:function(f,g,e){Foundation.inherit(this,"throttle");if(typeof g==="object"){c.extend(true,this.settings,g)}this.events();this.images();if(typeof g!=="string"){return this.settings.init}else{return this[g].call(this,e)}},events:function(){var e=this;c(b).on("resize.fndtn.interchange",e.throttle(function(){e.resize.call(e)},50))},resize:function(){var e=this.cache;if(!this.images_loaded){setTimeout(c.proxy(this.resize,this),50);return}for(var f in e){if(e.hasOwnProperty(f)){var g=this.results(f,e[f]);if(g){this.settings.directives[g.scenario[1]](g.el,g.scenario[0])}}}},results:function(h,l){var j=l.length;if(j>0){var g=c('[data-uuid="'+h+'"]');for(var e=j-1;e>=0;e--){var f,k=l[e][2];if(this.settings.named_queries.hasOwnProperty(k)){f=matchMedia(this.settings.named_queries[k])}else{f=matchMedia(k)}if(f.matches){return{el:g,scenario:l[e]}}}}return false},images:function(e){if(typeof this.cached_images==="undefined"||e){return this.update_images()}return this.cached_images},update_images:function(){var e=a.getElementsByTagName("img"),j=e.length,h=0,g="data-"+this.settings.load_attr;this.cached_images=[];this.images_loaded=false;for(var f=j-1;f>=0;f--){this.loaded(c(e[f]),function(i){h++;if(i){var k=i.getAttribute(g)||"";if(k.length>0){this.cached_images.push(i)}}if(h===j){this.images_loaded=true;this.enhance()}}.bind(this))}return"deferred"},loaded:function(g,h){function e(){h(g[0])}function f(){this.one("load",e);if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var j=this.attr("src"),i=j.match(/\?/)?"&":"?";i+="random="+(new Date()).getTime();this.attr("src",j+i)}}if(!g.attr("src")){e();return}if(g[0].complete||g[0].readyState===4){e()}else{f.call(g)}},enhance:function(){var f=this.images().length;for(var e=f-1;e>=0;e--){this._object(c(this.images()[e]))}return c(b).trigger("resize")},parse_params:function(f,g,e){return[this.trim(f),this.convert_directive(g),this.trim(e)]},convert_directive:function(f){var e=this.trim(f);if(e.length>0){return e}return"replace"},_object:function(h){var k=this.parse_data_attr(h),m=[],j=k.length;if(j>0){for(var g=j-1;g>=0;g--){var f=k[g].split(/\((.*?)(\))$/);if(f.length>1){var e=f[0].split(","),l=this.parse_params(e[0],e[1],f[1]);m.push(l)}}}return this.store(h,m)},uuid:function(f){var g=f||"-";function e(){return(((1+Math.random())*65536)|0).toString(16).substring(1)}return(e()+e()+g+e()+g+e()+g+e()+g+e()+e()+e())},store:function(f,h){var e=this.uuid(),g=f.data("uuid");if(g){return this.cache[g]}f.attr("data-uuid",e);return this.cache[e]=h},trim:function(e){if(typeof e==="string"){return c.trim(e)}return e},parse_data_attr:function(h){var f=h.data(this.settings.load_attr).split(/\[(.*?)\]/),j=f.length,e=[];for(var g=j-1;g>=0;g--){if(f[g].replace(/[\W\d]+/,"").length>4){e.push(f[g])}}return e},reflow:function(){this.images(true)}}}(Foundation.zj,this,this.document));