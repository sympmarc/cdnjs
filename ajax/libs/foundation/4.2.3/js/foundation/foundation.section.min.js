!function(a,b,c){"use strict";Foundation.libs.section={name:"section",version:"4.2.3",settings:{deep_linking:!1,small_breakpoint:768,one_up:!0,section_selector:"[data-section]",region_selector:"section, .section, [data-section-region]",title_selector:".title, [data-section-title]",active_region_selector:"section.active, .section.active, .active[data-section-region]",content_selector:".content, [data-section-content]",nav_selector:'[data-section="vertical-nav"], [data-section="horizontal-nav"]',callback:function(){}},init:function(b,c,d){var e=this;return Foundation.inherit(this,"throttle data_options position_right offset_right"),"object"==typeof c&&a.extend(!0,e.settings,c),"string"!=typeof c?(this.set_active_from_hash(),this.events(),!0):this[c].call(this,d)},events:function(){var d=this;a(this.scope).on("click.fndtn.section","[data-section] .title, [data-section] [data-section-title]",function(b){var c=a(this),e=c.closest(d.settings.region_selector);e.children(d.settings.content_selector).length>0&&(d.toggle_active.call(this,b,d),d.reflow())}),a(b).on("resize.fndtn.section",d.throttle(function(){d.resize.call(this)},30)).on("hashchange",function(){d.settings.toggled||(d.set_active_from_hash(),a(this).trigger("resize"))}).trigger("resize"),a(c).on("click.fndtn.section",function(b){a(b.target).closest(d.settings.title_selector).length<1&&a(d.settings.nav_selector).children(d.settings.region_selector).removeClass("active").attr("style","")})},toggle_active:function(b,c){var d=a(this),c=Foundation.libs.section,e=d.closest(c.settings.region_selector),f=d.siblings(c.settings.content_selector),g=e.parent(),h=a.extend({},c.settings,c.data_options(g)),i=g.children(c.settings.active_region_selector);if(c.settings.toggled=!0,!h.deep_linking&&f.length>0&&b.preventDefault(),e.hasClass("active"))(c.small(g)||c.is_vertical_nav(g)||c.is_horizontal_nav(g)||c.is_accordion(g))&&(i[0]!==e[0]||i[0]===e[0]&&!h.one_up)&&e.removeClass("active").attr("style","");else{var i=g.children(c.settings.active_region_selector),j=c.outerHeight(e.children(c.settings.title_selector));(c.small(g)||h.one_up)&&(c.small(g)?i.attr("style",""):i.attr("style","visibility: hidden; padding-top: "+j+"px;")),c.small(g)?e.attr("style",""):e.css("padding-top",j),e.addClass("active"),i.length>0&&i.removeClass("active").attr("style",""),c.is_vertical_tabs(g)&&(f.css("display","block"),null!==i&&i.children(c.settings.content_selector).css("display","none"))}setTimeout(function(){c.settings.toggled=!1},300),h.callback()},resize:function(){var b=Foundation.libs.section,c=a(b.settings.section_selector);c.each(function(){var c=a(this),d=c.children(b.settings.active_region_selector),e=a.extend({},b.settings,b.data_options(c));if(d.length>1)d.not(":first").removeClass("active").attr("style","");else if(d.length<1&&!b.is_vertical_nav(c)&&!b.is_horizontal_nav(c)&&!b.is_accordion(c)){var f=c.children(b.settings.region_selector).first();(e.one_up||!b.small(c))&&f.addClass("active"),b.small(c)?f.attr("style",""):f.css("padding-top",b.outerHeight(f.children(b.settings.title_selector)))}b.small(c)?d.attr("style",""):d.css("padding-top",b.outerHeight(d.children(b.settings.title_selector))),b.position_titles(c),b.is_horizontal_nav(c)&&!b.small(c)||b.is_vertical_tabs(c)&&!b.small(c)?b.position_content(c):b.position_content(c,!1)})},is_vertical_nav:function(a){return/vertical-nav/i.test(a.data("section"))},is_horizontal_nav:function(a){return/horizontal-nav/i.test(a.data("section"))},is_accordion:function(a){return/accordion/i.test(a.data("section"))},is_horizontal_tabs:function(a){return/^tabs$/i.test(a.data("section"))},is_vertical_tabs:function(a){return/vertical-tabs/i.test(a.data("section"))},set_active_from_hash:function(){var c=b.location.hash.substring(1),d=a("[data-section]"),e=this;d.each(function(){var b=a(this),d=a.extend({},e.settings,e.data_options(b));if(c.length>0&&d.deep_linking)for(var f=b.children(e.settings.region_selector).attr("style","").removeClass("active"),g=f.map(function(){var b=a(e.settings.content_selector,this),d=b.data("slug");return new RegExp(d,"i").test(c)?b:void 0}),h=g.length,i=h-1;i>=0;i--)a(g[i]).parent().addClass("active")})},position_titles:function(b,c){var d=this,e=b.children(this.settings.region_selector).map(function(){return a(this).children(d.settings.title_selector)}),f=0,g=0,d=this;"boolean"==typeof c?e.attr("style",""):e.each(function(){d.is_vertical_tabs(b)?(a(this).css("top",g),g+=d.outerHeight(a(this))):(d.rtl?a(this).css("right",f):a(this).css("left",f),f+=d.outerWidth(a(this)))})},position_content:function(b,c){var d=this,e=b.children(d.settings.region_selector),f=e.map(function(){return a(this).children(d.settings.title_selector)}),g=e.map(function(){return a(this).children(d.settings.content_selector)});if("boolean"==typeof c)g.attr("style",""),b.attr("style",""),g.css("minHeight",""),g.css("maxWidth","");else if(d.is_vertical_tabs(b)&&!d.small(b)){var h=0,i=Number.MAX_VALUE,j=null;e.each(function(){var c=a(this),e=c.children(d.settings.title_selector),f=c.children(d.settings.content_selector),g=0;j=d.outerWidth(e),g=d.outerWidth(b)-j,i>g&&(i=g),h+=d.outerHeight(e),a(this).hasClass("active")||f.css("display","none")}),e.each(function(){var b=a(this).children(d.settings.content_selector);b.css("minHeight",h),b.css("maxWidth",i-2)})}else e.each(function(){var b=a(this),c=b.children(d.settings.title_selector),e=b.children(d.settings.content_selector);d.rtl?e.css({right:d.position_right(c)+1,top:d.outerHeight(c)-2}):e.css({left:c.position().left-1,top:d.outerHeight(c)-2})}),"function"==typeof Zepto?b.height(this.outerHeight(a(f[0]))):b.height(this.outerHeight(a(f[0]))-2)},position_right:function(b){var c=this,d=b.closest(this.settings.section_selector),e=d.children(this.settings.region_selector),f=b.closest(this.settings.section_selector).width(),g=e.map(function(){return a(this).children(c.settings.title_selector)}).length;return f-b.position().left-b.width()*(b.index()+1)-g},reflow:function(b){var b=b||c;a(this.settings.section_selector,b).trigger("resize")},small:function(b){var c=a.extend({},this.settings,this.data_options(b));return this.is_horizontal_tabs(b)?!1:b&&this.is_accordion(b)?!0:a("html").hasClass("lt-ie9")?!0:a("html").hasClass("ie8compat")?!0:a(this.scope).width()<c.small_breakpoint},off:function(){a(this.scope).off(".fndtn.section"),a(b).off(".fndtn.section"),a(c).off(".fndtn.section")}}}(Foundation.zj,this,this.document);