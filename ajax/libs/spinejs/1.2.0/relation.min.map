{"version":3,"file":"relation.min.js","sources":["relation.js"],"names":["Collection","Instance","Singleton","Spine","association","isArray","require","singularize","underscore","__hasProp","hasOwnProperty","__extends","child","parent","key","call","ctor","this","constructor","prototype","__super__","value","eval","_super","options","all","_this","model","select","rec","associated","first","last","values","length","count","find","id","records","Error","className","findAllByAttribute","name","findByAttribute","cb","refresh","i","match","record","_i","_j","_k","_len","_len1","_len2","_ref","_ref1","irecords","splice","newRecord","fkey","create","add","updateAttribute","remove","Module","exists","update","isNew","save","fromJSON","str","replace","toLowerCase","Ctor","Model","extend","hasMany","belongsTo","attributes","push","hasOne"],"mappings":"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"}