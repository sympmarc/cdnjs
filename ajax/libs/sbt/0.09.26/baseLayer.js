//(c) Copyright IBM Corp. 2013
// Licensed under Apache 2.0
//>>built
require({cache:{"sbt/ErrorTransport":function(){define("./declare,./lang,./Promise,./stringUtil,./log,sbt/i18n!sbt/nls/ErrorTransport".split(","),function(e,d,c,b,a,f){return e(null,{_called:!1,_endpointName:null,_message:null,constructor:function(a,c){this._endpointName=a;this._message=c?c:b.substitute(f.endpoint_not_available,[a])},request:function(){if(!this._called)alert(this._message),this._called=!0;var a=new c,b=Error(this._message);b.status=400;a.rejected(b);return a},xhr:function(b,f){if(!this._called)a.error(this._message),
this._called=!0;var c=f.handle,e=f.error;if(d.isFunction(e)||d.isFunction(c)){var j=Error(this._message);j.status=400;d.isFunction(e)&&e(j);d.isFunction(c)&&c(j)}}})})},"sbt/declare":function(){define(["./_bridge/declare"],function(e){return e})},"sbt/_bridge/declare":function(){define(["dojo/_base/declare"],function(e){return e})},"sbt/lang":function(){define(["./_bridge/lang"],function(e){return e})},"sbt/_bridge/lang":function(){define(["dojo/_base/lang"],function(e){return{mixin:function(d,c){return e.mixin.apply(this,
arguments)},isArray:function(d){return e.isArray(d)},isString:function(d){return e.isString(d)},isFunction:function(d){return"function"==typeof d},isObject:function(d){return"object"==typeof d},clone:function(d){return e.clone(d)},concatPath:function(){var d=arguments;1==d.length&&this.isArray(d[0])&&(d=d[0]);for(var c="",b=0;b<d.length;b++){var a=d[b].toString();c&&(c+="/");c+="/"==a.charAt(0)?a.substring(1):a}return c},trim:function(d){return e.trim(d)}}})},"sbt/Promise":function(){define(["./declare",
"./log"],function(e,d){return e(null,{_rejected:!1,_fulfilled:!1,_canceled:!1,_callbacks:null,_errbacks:null,response:null,error:null,constructor:function(c){c?c instanceof Error?this.rejected(c):this.fulfilled(c):(this._callbacks=[],this._errbacks=[])},then:function(c,b){this._fulfilled?c&&c(this.data):this._rejected?b&&b(this.error):(c&&this._callbacks.push(c),b&&this._errbacks.push(b))},cancel:function(){this._canceled=!0},isResolved:function(){return this._rejected||this._fulfilled},isRejected:function(){return this._rejected},
isFulfilled:function(){return this._fulfilled},isCanceled:function(){return this._canceled},fulfilled:function(c){if(!this._canceled&&(this._fulfilled=!0,this.data=c,this._callbacks))for(;0<this._callbacks.length;){var b=this._callbacks.shift();try{b(c)}catch(a){d.error("Callback error: "+a)}}},rejected:function(c){if(!this._canceled&&(this._rejected=!0,this.error=c,this._errbacks))for(;0<this._errbacks.length;){var b=this._errbacks.shift();try{b(c)}catch(a){}}}})})},"sbt/log":function(){define(["./stringUtil"],
function(e){var d=function(){return sbt.Properties["js.logging.enabled"]?"true"==sbt.Properties["js.logging.enabled"].toLowerCase():!0},c={DEBUG:1,INFO:2,WARN:3,ERROR:4},b=function(){return c[sbt.Properties["js.logging.level"]?sbt.Properties["js.logging.level"]:"DEBUG"]};return{setLevel:function(a){b=c[a]},setEnabled:function(a){d=a},debug:function(){if(d&&!(1<b)&&console&&0<arguments.length){var a=Array.prototype.slice.call(arguments),f=a[0],a=a.slice(1),a=e.substitute(f,a);console.debug?console.debug(a):
console.log("DEBUG : "+a)}},info:function(){if(d&&!(2<b)&&console&&0<arguments.length){var a=Array.prototype.slice.call(arguments),f=a[0],a=a.slice(1),a=e.substitute(f,a);console.info?console.info(a):console.log("INFO : "+a)}},warn:function(){if(d&&!(3<b)&&console&&0<arguments.length){var a=Array.prototype.slice.call(arguments),f=a[0],a=a.slice(1),a=e.substitute(f,a);console.warn?console.warn(a):console.log("WARN : "+a)}},error:function(){if(d&&console&&0<arguments.length){var a=Array.prototype.slice.call(arguments),
b=a[0],a=a.slice(1),a=e.substitute(b,a);console.error?console.error(a):console.log("ERROR : "+a)}},exception:function(){if(d&&console&&0<arguments.length){var a=Array.prototype.slice.call(arguments),b=a[0],a=a.slice(1),a=e.substitute(b,a);console.error?console.error("EXCEPTION : "+a):console.log("EXCEPTION : "+a)}}}})},"sbt/stringUtil":function(){define(["./xml"],function(e){var d=RegExp("{-?[0-9]+}","g");return{substitute:function(c,b,a){return c&&b?c.replace(d,function(f){f=parseInt(f.substring(1,
f.length-1));return 0<=f?b[f]?b[f]:a?"":"undefined":-1==f?"{":-2==f?"}":""}):c},replace:function(c,b){return c&&b?c.replace(/{(\w*)}/g,function(a,f){return b.hasOwnProperty(f)?e.encodeXmlEntry(b[f]):""}):c},trim:function(c){return c?c.replace(/^\s+|\s+$/g,""):c},startsWith:function(c,b){return c.length>=b.length&&c.substring(0,b.length)==b},endsWith:function(c,b){return c.length>=b.length&&c.substring(c.length-b.length)==b},transform:function(c,b,a,f){return c.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,
function(c,d){var e=b[d]||"";if("function"==typeof e)try{e=e.apply(f,[b])}catch(m){e="ERROR:"+d+" "+m}a&&(e=a.call(f,e,d));return"undefined"==typeof e||null==e?"":e.toString()})},hashCode:function(c){if(0==c.length)return 0;var b=0,a,f;for(a=0,l=c.length;a<l;a++)f=c.charCodeAt(a),b=(b<<5)-b+f,b|=0;return b}}})},"sbt/xml":function(){define(["./lang"],function(e){var d={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"},c={"&amp;":"&","&quot;":'"',"&lt;":"<","&gt;":">"};return{parse:function(b){var a=
null;try{"Microsoft Internet Explorer"==navigator.appName?(a=new ActiveXObject("Microsoft.XMLDOM"),a.async="false",a.loadXML(b)):window.DOMParser&&(parser=new DOMParser,a=parser.parseFromString(b,"text/xml"))}catch(f){console.log(f.message)}return a},asString:function(b){return null==b?"":window.ActiveXObject?b.xml:(new XMLSerializer).serializeToString(b)},getText:function(b){return"Microsoft Internet Explorer"==navigator.appName?b.text:b.textContent},encodeXmlEntry:function(b){e.isArray(b)&&(b=b.join());
e.isString(b)||(b=b.toString());return b.replace(/([\&"<>])/g,function(b,f){return d[f]})},decodeXmlEntry:function(b){return b.replace(/(&quot;|&lt;|&gt;|&amp;)/g,function(b,f){return c[f]})}}})},"sbt/_bridge/i18n":function(){define(["dojo/i18n","dojo/date/locale"],function(e,d){return{load:function(c,b,a){e.load(c,b,a)},getLocalizedTime:function(c){return d.format(c,{selector:"time",formatLength:"short"})},getLocalizedDate:function(c){return d.format(c,{selector:"date",formatLength:"medium"})}}})},
"dojo/i18n":function(){define("./_base/kernel,require,./has,./_base/array,./_base/config,./_base/lang,./_base/xhr,./json,module".split(","),function(e,d,c,b,a,f,i,g,h){c.add("dojo-preload-i18n-Api",1);var m=e.i18n={},j=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,n=function(b,a,f,c){for(var d=[f+c],a=a.split("-"),g="",i=0;i<a.length;i++)g+=(g?"-":"")+a[i],(!b||b[g])&&d.push(f+g+"/"+c);return d},k={},o=function(b,a,f){f=f?f.toLowerCase():e.locale;b=b.replace(/\./g,"/");a=a.replace(/\./g,"/");return/root/i.test(f)?
b+"/nls/"+a:b+"/nls/"+f+"/"+a};e.getL10nName=function(b,a,f){return h.id+"!"+o(b,a,f)};var s=function(b,a,c,d,g,i){b([a],function(e){var s=f.clone(e.root),j=n(!e._v1x&&e,g,c,d);b(j,function(){for(var b=1;b<j.length;b++)s=f.mixin(f.clone(s),arguments[b]);k[a+"/"+g]=s;i()})})},z=function(b){var c=a.extraLocale||[],c=f.isArray(c)?c:[c];c.push(b);return c},t=function(a,d,i){if(c("dojo-preload-i18n-Api")){var h=a.split("*"),t="preload"==h[1];t&&(k[a]||(k[a]=1,A(h[2],g.parse(h[3]),1,d)),i(1));if(!(h=t))u&&
x.push([a,d,i]),h=u;if(h)return}var a=j.exec(a),o=a[1]+"/",n=a[5]||a[4],v=o+n,h=(a=a[5]&&a[4])||e.locale,m=v+"/"+h,a=a?[h]:z(h),y=a.length,w=function(){--y||i(f.delegate(k[m]))};b.forEach(a,function(a){var b=v+"/"+a;c("dojo-preload-i18n-Api")&&q(b);k[b]?w():s(d,v,o,n,a,w)})};if(c("dojo-unit-tests"))var v=m.unitTests=[];c("dojo-preload-i18n-Api");var y=m.normalizeLocale=function(a){a=a?a.toLowerCase():e.locale;return"root"==a?"ROOT":a},u=0,x=[],A=m._preloadLocalizations=function(a,f,c,g){function i(a,
b){g.isXdUrl(d.toUrl(a+".js"))||c?g([a],b):w([a],b,g)}function s(a,b){for(var f=a.split("-");f.length;){if(b(f.join("-")))return;f.pop()}b("ROOT")}function j(c){c=y(c);s(c,function(c){if(0<=b.indexOf(f,c)){var g=a.replace(/\./g,"/")+"_"+c;u++;i(g,function(a){for(var b in a)k[d.toAbsMid(b)+"/"+c]=a[b];for(--u;!u&&x.length;)t.apply(null,x.shift())});return!0}return!1})}g=g||d;j();b.forEach(e.config.extraLocale,j)},q=function(){},p={},r=new Function("__bundle","__checkForLegacyModules","__mid","__amdValue",
"var define = function(mid, factory){define.called = 1; __amdValue.result = factory || mid;},\t   require = function(){define.called = 1;};try{define.called = 0;eval(__bundle);if(define.called==1)return __amdValue;if((__checkForLegacyModules = __checkForLegacyModules(__mid)))return __checkForLegacyModules;}catch(e){}try{return eval('('+__bundle+')');}catch(e){return e;}"),w=function(a,f,c){var d=[];b.forEach(a,function(a){function b(c){c=r(c,q,a,p);c===p?d.push(k[f]=p.result):(c instanceof Error&&
(console.error("failed to evaluate i18n bundle; url="+f,c),c={}),d.push(k[f]=/nls\/[^\/]+\/[^\/]+$/.test(f)?c:{root:c,_v1x:1}))}var f=c.toUrl(a+".js");if(k[f])d.push(k[f]);else{var g=c.syncLoadNls(a);if(g)d.push(g);else if(i)i.get({url:f,sync:!0,load:b,error:function(){d.push(k[f]={})}});else try{c.getText(f,!0,b)}catch(e){d.push(k[f]={})}}});f&&f.apply(null,d)},q=function(a){for(var b,f=a.split("/"),c=e.global[f[0]],d=1;c&&d<f.length-1;c=c[f[d++]]);c&&((b=c[f[d]])||(b=c[f[d].replace(/-/g,"_")]),
b&&(k[a]=b));return b};m.getLocalization=function(a,b,f){var c,a=o(a,b,f);t(a,!d.isXdUrl(d.toUrl(a+".js"))?function(a,b){w(a,b,d)}:d,function(a){c=a});return c};c("dojo-unit-tests")&&v.push(function(a){a.register("tests.i18n.unit",function(a){var b;b=r("{prop:1}",q,"nonsense",p);a.is({prop:1},b);a.is(void 0,b[1]);b=r("({prop:1})",q,"nonsense",p);a.is({prop:1},b);a.is(void 0,b[1]);b=r("{'prop-x':1}",q,"nonsense",p);a.is({"prop-x":1},b);a.is(void 0,b[1]);b=r("({'prop-x':1})",q,"nonsense",p);a.is({"prop-x":1},
b);a.is(void 0,b[1]);b=r("define({'prop-x':1})",q,"nonsense",p);a.is(p,b);a.is({"prop-x":1},p.result);b=r("define('some/module', {'prop-x':1})",q,"nonsense",p);a.is(p,b);a.is({"prop-x":1},p.result);b=r("this is total nonsense and should throw an error",q,"nonsense",p);a.is(b instanceof Error,!0)})});return f.mixin(m,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:t,cache:k})})},"dojo/date/locale":function(){define("../_base/lang,../_base/array,../date,../cldr/supplemental,../i18n,../regexp,../string,../i18n!../cldr/nls/gregorian,module".split(","),
function(e,d,c,b,a,f,i,g,h){function m(a,f,c,d){return d.replace(/([a-z])\1*/ig,function(g){var e,j,h=g.charAt(0),g=g.length,o=["abbr","wide","narrow"];switch(h){case "G":e=f[4>g?"eraAbbr":"eraNames"][0>a.getFullYear()?0:1];break;case "y":e=a.getFullYear();switch(g){case 1:break;case 2:if(!c.fullYear){e=""+e;e=e.substr(e.length-2);break}default:j=!0}break;case "Q":case "q":e=Math.ceil((a.getMonth()+1)/3);j=!0;break;case "M":case "L":e=a.getMonth();3>g?(e+=1,j=!0):(h=["months","L"==h?"standAlone":
"format",o[g-3]].join("-"),e=f[h][e]);break;case "w":e=k._getWeekOfYear(a,0);j=!0;break;case "d":e=a.getDate();j=!0;break;case "D":e=k._getDayOfYear(a);j=!0;break;case "e":case "c":if(e=a.getDay(),2>g){e=(e-b.getFirstDayOfWeek(c.locale)+8)%7;break}case "E":e=a.getDay();3>g?(e+=1,j=!0):(h=["days","c"==h?"standAlone":"format",o[g-3]].join("-"),e=f[h][e]);break;case "a":h=12>a.getHours()?"am":"pm";e=c[h]||f["dayPeriods-format-wide-"+h];break;case "h":case "H":case "K":case "k":j=a.getHours();switch(h){case "h":e=
j%12||12;break;case "H":e=j;break;case "K":e=j%12;break;case "k":e=j||24}j=!0;break;case "m":e=a.getMinutes();j=!0;break;case "s":e=a.getSeconds();j=!0;break;case "S":e=Math.round(a.getMilliseconds()*Math.pow(10,g-3));j=!0;break;case "v":case "z":if(e=k._getZone(a,!0,c))break;g=4;case "Z":h=k._getZone(a,!1,c);h=[0>=h?"+":"-",i.pad(Math.floor(Math.abs(h)/60),2),i.pad(Math.abs(h)%60,2)];4==g&&(h.splice(0,0,"GMT"),h.splice(3,0,":"));e=h.join("");break;default:throw Error("dojo.date.locale.format: invalid pattern char: "+
d);}j&&(e=i.pad(e,g));return e})}function j(a,b,f,c){var e=function(a){return a},b=b||e,f=f||e,c=c||e,g=a.match(/(''|[^'])+/g),i="'"==a.charAt(0);d.forEach(g,function(a,c){a?(g[c]=(i?f:b)(a.replace(/''/g,"'")),i=!i):g[c]=""});return c(g.join(""))}function n(a,b,c,d){d=f.escapeString(d);c.strict||(d=d.replace(" a"," ?a"));return d.replace(/([a-z])\1*/ig,function(f){var d;d=f.charAt(0);var g=f.length,e="",i="";c.strict?(1<g&&(e="0{"+(g-1)+"}"),2<g&&(i="0{"+(g-2)+"}")):(e="0?",i="0{0,2}");switch(d){case "y":d=
"\\d{2,4}";break;case "M":case "L":d=2<g?"\\S+?":"1[0-2]|"+e+"[1-9]";break;case "D":d="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+e+"[1-9][0-9]|"+i+"[1-9]";break;case "d":d="3[01]|[12]\\d|"+e+"[1-9]";break;case "w":d="[1-4][0-9]|5[0-3]|"+e+"[1-9]";break;case "E":case "e":case "c":d="\\S+";break;case "h":d="1[0-2]|"+e+"[1-9]";break;case "k":d="1[01]|"+e+"\\d";break;case "H":d="1\\d|2[0-3]|"+e+"\\d";break;case "K":d="1\\d|2[0-4]|"+e+"[1-9]";break;case "m":case "s":d="[0-5]\\d";break;case "S":d="\\d{"+g+"}";
break;case "a":g=c.am||b["dayPeriods-format-wide-am"];e=c.pm||b["dayPeriods-format-wide-pm"];d=g+"|"+e;c.strict||(g!=g.toLowerCase()&&(d+="|"+g.toLowerCase()),e!=e.toLowerCase()&&(d+="|"+e.toLowerCase()),-1!=d.indexOf(".")&&(d+="|"+d.replace(/\./g,"")));d=d.replace(/\./g,"\\.");break;default:d=".*"}a&&a.push(f);return"("+d+")"}).replace(/[\xa0 ]/g,"[\\s\\xa0]")}var k={};e.setObject(h.id.replace(/\//g,"."),k);k._getZone=function(a,b){return b?c.getTimezoneName(a):a.getTimezoneOffset()};k.format=function(b,
c){var c=c||{},f=a.normalizeLocale(c.locale),d=c.formatLength||"short",f=k._getGregorianBundle(f),g=[],i=e.hitch(this,m,b,f,c);if("year"==c.selector)return j(f["dateFormatItem-yyyy"]||"yyyy",i);var h;"date"!=c.selector&&(h=c.timePattern||f["timeFormat-"+d])&&g.push(j(h,i));"time"!=c.selector&&(h=c.datePattern||f["dateFormat-"+d])&&g.push(j(h,i));return 1==g.length?g[0]:f["dateTimeFormat-"+d].replace(/\{(\d+)\}/g,function(a,b){return g[b]})};k.regexp=function(a){return k._parseInfo(a).regexp};k._parseInfo=
function(b){var b=b||{},c=a.normalizeLocale(b.locale),c=k._getGregorianBundle(c),f=b.formatLength||"short",d=b.datePattern||c["dateFormat-"+f],g=b.timePattern||c["timeFormat-"+f],f="date"==b.selector?d:"time"==b.selector?g:c["dateTimeFormat-"+f].replace(/\{(\d+)\}/g,function(a,b){return[g,d][b]}),i=[];return{regexp:j(f,e.hitch(this,n,i,c,b)),tokens:i,bundle:c}};k.parse=function(a,b){var f=/[\u200E\u200F\u202A\u202E]/g,g=k._parseInfo(b),e=g.tokens,i=g.bundle,f=RegExp("^"+g.regexp.replace(f,"")+"$",
g.strict?"":"i").exec(a&&a.replace(f,""));if(!f)return null;var j=["abbr","wide","narrow"],h=[1970,0,1,0,0,0,0],o="",f=d.every(f,function(a,c){if(!c)return!0;var f=e[c-1],g=f.length,f=f.charAt(0);switch(f){case "y":if(2!=g&&b.strict)h[0]=a;else if(100>a)a=Number(a),f=""+(new Date).getFullYear(),g=100*f.substring(0,2),f=Math.min(Number(f.substring(2,4))+20,99),h[0]=a<f?g+a:g-100+a;else{if(b.strict)return!1;h[0]=a}break;case "M":case "L":if(2<g){if(g=i["months-"+("L"==f?"standAlone":"format")+"-"+j[g-
3]].concat(),b.strict||(a=a.replace(".","").toLowerCase(),g=d.map(g,function(a){return a.replace(".","").toLowerCase()})),a=d.indexOf(g,a),-1==a)return!1}else a--;h[1]=a;break;case "E":case "e":case "c":g=i["days-"+("c"==f?"standAlone":"format")+"-"+j[g-3]].concat();b.strict||(a=a.toLowerCase(),g=d.map(g,function(a){return a.toLowerCase()}));a=d.indexOf(g,a);if(-1==a)return!1;break;case "D":h[1]=0;case "d":h[2]=a;break;case "a":g=b.am||i["dayPeriods-format-wide-am"];f=b.pm||i["dayPeriods-format-wide-pm"];
if(!b.strict)var k=/\./g,a=a.replace(k,"").toLowerCase(),g=g.replace(k,"").toLowerCase(),f=f.replace(k,"").toLowerCase();if(b.strict&&a!=g&&a!=f)return!1;o=a==f?"p":a==g?"a":"";break;case "K":24==a&&(a=0);case "h":case "H":case "k":if(23<a)return!1;h[3]=a;break;case "m":h[4]=a;break;case "s":h[5]=a;break;case "S":h[6]=a}return!0}),g=+h[3];"p"===o&&12>g?h[3]=g+12:"a"===o&&12==g&&(h[3]=0);g=new Date(h[0],h[1],h[2],h[3],h[4],h[5],h[6]);b.strict&&g.setFullYear(h[0]);var n=e.join(""),m=-1!=n.indexOf("d"),
n=-1!=n.indexOf("M");if(!f||n&&g.getMonth()>h[1]||m&&g.getDate()>h[2])return null;if(n&&g.getMonth()<h[1]||m&&g.getDate()<h[2])g=c.add(g,"hour",1);return g};var o=[];k.addCustomFormats=function(a,b){o.push({pkg:a,name:b})};k._getGregorianBundle=function(b){var f={};d.forEach(o,function(c){c=a.getLocalization(c.pkg,c.name,b);f=e.mixin(f,c)},this);return f};k.addCustomFormats(h.id.replace(/\/date\/locale$/,".cldr"),"gregorian");k.getNames=function(a,b,f,c){var d,c=k._getGregorianBundle(c),a=[a,f,b];
"standAlone"==f&&(f=a.join("-"),d=c[f],1==d[0]&&(d=void 0));a[1]="format";return(d||c[a.join("-")]).concat()};k.isWeekend=function(a,f){var c=b.getWeekend(f),d=(a||new Date).getDay();c.end<c.start&&(c.end+=7,d<c.start&&(d+=7));return d>=c.start&&d<=c.end};k._getDayOfYear=function(a){return c.difference(new Date(a.getFullYear(),0,1,a.getHours()),a)+1};k._getWeekOfYear=function(a,b){1==arguments.length&&(b=0);var f=(new Date(a.getFullYear(),0,1)).getDay(),c=Math.floor((k._getDayOfYear(a)+(f-b+7)%7-
1)/7);f==b&&c++;return c};return k})},"dojo/date":function(){define(["./has","./_base/lang"],function(e,d){var c={};c.getDaysInMonth=function(b){var a=b.getMonth(),f=[31,28,31,30,31,30,31,31,30,31,30,31];return 1==a&&c.isLeapYear(b)?29:f[a]};c.isLeapYear=function(b){b=b.getFullYear();return!(b%400)||!(b%4)&&!!(b%100)};c.getTimezoneName=function(b){var a=b.toString(),f="",c=a.indexOf("(");if(-1<c)f=a.substring(++c,a.indexOf(")"));else if(c=/([A-Z\/]+) \d{4}$/,a=a.match(c))f=a[1];else if(a=b.toLocaleString(),
c=/ ([A-Z\/]+)$/,a=a.match(c))f=a[1];return"AM"==f||"PM"==f?"":f};c.compare=function(b,a,c){b=new Date(+b);a=new Date(+(a||new Date));"date"==c?(b.setHours(0,0,0,0),a.setHours(0,0,0,0)):"time"==c&&(b.setFullYear(0,0,0),a.setFullYear(0,0,0));return b>a?1:b<a?-1:0};c.add=function(b,a,c){var d=new Date(+b),g=!1,e="Date";switch(a){case "day":break;case "weekday":var m;(a=c%5)?m=parseInt(c/5):(a=0<c?5:-5,m=0<c?(c-5)/5:(c+5)/5);var j=b.getDay(),n=0;6==j&&0<c?n=1:0==j&&0>c&&(n=-1);j+=a;if(0==j||6==j)n=0<
c?2:-2;c=7*m+a+n;break;case "year":e="FullYear";g=!0;break;case "week":c*=7;break;case "quarter":c*=3;case "month":g=!0;e="Month";break;default:e="UTC"+a.charAt(0).toUpperCase()+a.substring(1)+"s"}if(e)d["set"+e](d["get"+e]()+c);g&&d.getDate()<b.getDate()&&d.setDate(0);return d};c.difference=function(b,a,f){var a=a||new Date,f=f||"day",d=a.getFullYear()-b.getFullYear(),g=1;switch(f){case "quarter":b=b.getMonth();a=a.getMonth();b=Math.floor(b/3)+1;a=Math.floor(a/3)+1;g=a+4*d-b;break;case "weekday":d=
Math.round(c.difference(b,a,"day"));f=parseInt(c.difference(b,a,"week"));if(0==d%7)d=5*f;else{var g=0,e=b.getDay(),m=a.getDay(),f=parseInt(d/7),a=d%7,b=new Date(b);b.setDate(b.getDate()+7*f);b=b.getDay();if(0<d)switch(!0){case 6==e:g=-1;break;case 0==e:g=0;break;case 6==m:g=-1;break;case 0==m:g=-2;break;case 5<b+a:g=-2}else if(0>d)switch(!0){case 6==e:g=0;break;case 0==e:g=1;break;case 6==m:g=2;break;case 0==m:g=1;break;case 0>b+a:g=2}d=d+g-2*f}g=d;break;case "year":g=d;break;case "month":g=a.getMonth()-
b.getMonth()+12*d;break;case "week":g=parseInt(c.difference(b,a,"day")/7);break;case "day":g/=24;case "hour":g/=60;case "minute":g/=60;case "second":g/=1E3;case "millisecond":g*=a.getTime()-b.getTime()}return Math.round(g)};d.mixin(d.getObject("dojo.date",!0),c);return c})},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(e,d){var c={};e.setObject("dojo.cldr.supplemental",c);c.getFirstDayOfWeek=function(b){b={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,
ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0}[c._region(b)];return void 0===b?1:b};c._region=function(b){var b=d.normalizeLocale(b),b=b.split("-"),a=b[1];a?4==a.length&&(a=b[2]):a={de:"de",en:"us",es:"es",fi:"fi",
fr:"fr",he:"il",hu:"hu",it:"it",ja:"jp",ko:"kr",nl:"nl",pt:"br",sv:"se",zh:"cn"}[b[0]];return a};c.getWeekend=function(b){var a=c._region(b),b={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5}[a],a={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6}[a];void 0===b&&(b=6);void 0===a&&(a=0);return{start:b,end:a}};return c})},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(e,d){var c=
{};d.setObject("dojo.regexp",c);c.escapeString=function(b,a){return b.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(b){return a&&-1!=a.indexOf(b)?b:"\\"+b})};c.buildGroupRE=function(b,a,f){if(!(b instanceof Array))return a(b);for(var d=[],g=0;g<b.length;g++)d.push(a(b[g]));return c.group(d.join("|"),f)};c.group=function(b,a){return"("+(a?"?:":"")+b+")"};return c})},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(e,d){var c={};d.setObject("dojo.string",c);c.rep=function(b,
a){if(0>=a||!b)return"";for(var c=[];;){a&1&&c.push(b);if(!(a>>=1))break;b+=b}return c.join("")};c.pad=function(b,a,f,d){f||(f="0");b=""+b;a=c.rep(f,Math.ceil((a-b.length)/f.length));return d?b+a:a+b};c.substitute=function(b,a,c,i){i=i||e.global;c=c?d.hitch(i,c):function(a){return a};return b.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(b,e,m){b=d.getObject(e,!1,a);m&&(b=d.getObject(m,!1,i).call(i,b,e));return c(b,e).toString()})};c.trim=String.prototype.trim?d.trim:function(b){for(var b=
b.replace(/^\s+/,""),a=b.length-1;0<=a;a--)if(/\S/.test(b.charAt(a))){b=b.substring(0,a+1);break}return b};return c})},"sbt/Endpoint":function(){define("./declare,./lang,./ErrorTransport,./Promise,./pathUtil,./compat,./log,./stringUtil,sbt/i18n!sbt/nls/Endpoint,./xml".split(","),function(e,d,c,b,a,f,i,g,h,m){return e(null,{baseUrl:null,proxy:null,proxyPath:null,transport:null,authenticator:null,authType:null,loginUi:"",loginPage:null,dialogLoginPage:null,autoAuthenticate:null,isAuthenticated:!1,authenticationErrorCode:null,
constructor:function(a){d.mixin(this,a||{})},request:function(c,d){var f=c;0!=f.indexOf("http")&&(f=this.proxy?this.proxy.rewriteUrl(this.baseUrl,c,this.proxyPath):a.concat(this.baseUrl,c));d||(d={method:"GET",handleAs:"text"});var g=new b;g.response=new b;var e=this;this.transport.request(f,d).response.then(function(a){g.fulfilled(a.data);g.response.fulfilled(a)},function(a){if(!a.message)a.message=e.getErrorMessage(a.cause);e._isAuthRequired(a,d).then(function(b){b?e._authenticate(c,d,g):(g.rejected(a),
g.response.rejected(a))},function(a){g.rejected(a);g.response.rejected(a)})});return g},xhr:function(b,c,f){var g=this,e=d.mixin({},c);if(!e.url)e.url=this.proxy?this.proxy.rewriteUrl(this.baseUrl,e.serviceUrl,this.proxyPath):a.concat(this.baseUrl,e.serviceUrl);delete e.load;delete e.error;e.handle=function(a,d){if(a instanceof Error){if(!a.message)a.message=g.getErrorMessage(a.cause);var h=!1;403==a.code&&403==g.authenticationErrorCode&&g.isAuthenticated&&(h=!0);if(401==a.code||!h&&a.code==g.authenticationErrorCode)if(h=
e.autoAuthenticate||g.autoAuthenticate,void 0==h&&(h=!0),h&&g.authenticator&&(options={dialogLoginPage:g.loginDialogPage,loginPage:g.loginPage,transport:g.transport,proxy:g.proxy,proxyPath:g.proxyPath,loginUi:e.loginUi||g.loginUi,name:g.name,callback:function(){g.xhr(b,c,f)}},g.authenticator.authenticate(options)))return;g._notifyError(c,a,d)}else g._notifyResponse(c,a,d)};this.transport.xhr(b,e,f)},xhrGet:function(a){this.xhr("GET",a)},xhrPost:function(a){this.xhr("POST",a,!0)},xhrPut:function(a){this.xhr("PUT",
a,!0)},xhrDelete:function(a){this.xhr("DELETE",a)},authenticate:function(a){var c=new b,a=a||{};a.forceAuthentication||!this.isAuthenticated?this.authenticator.authenticate({dialogLoginPage:this.loginDialogPage,loginPage:this.loginPage,transport:this.transport,proxy:this.proxy,proxyPath:this.proxyPath,loginUi:a.loginUi||this.loginUi,name:this.name,callback:function(a){c.fulfilled(a)},cancel:function(a){c.rejected(a)}}):c.fulfilled(!0);return c},logout:function(){var a=new b,c=this,d=this.proxy.proxyUrl;
this.transport.xhr("POST",{handleAs:"json",url:d.substring(0,d.lastIndexOf("/"))+"/authHandler/"+this.proxyPath+"/logout",load:function(b){c.isAuthenticated=!1;a.fulfilled(b)},error:function(b){c.isAuthenticated=!1;a.rejected(b)}},!0);return a},isAuthenticated:function(){var a=new b,c=this,d=this.proxy.proxyUrl;this.transport.xhr("POST",{handleAs:"json",url:d.substring(0,d.lastIndexOf("/"))+"/authHandler/"+this.proxyPath+"/isAuth",load:function(b){c.isAuthenticated=!0;a.fulfilled(b)},error:function(b){a.rejected(b)}},
!0);return a},isAuthenticationValid:function(){var a=new b,c=this,d=this.proxy.proxyUrl;this.transport.xhr("POST",{handleAs:"json",url:d.substring(0,d.lastIndexOf("/"))+"/authHandler/"+this.proxyPath+"/isAuthValid",load:function(b){c.isAuthenticated=b.result;a.fulfilled(b)},error:function(b){a.rejected(b)}},!0);return a},_notifyError:function(a,b,c){if(a.handle)try{a.handle(b,c)}catch(d){}if(a.error)try{a.error(b,c)}catch(f){}},_notifyResponse:function(a,b,c){if(a.handle)try{a.handle(b,c)}catch(d){}if(a.load)try{a.load(b,
c)}catch(f){}},_authenticate:function(a,b,c){var d=this;return this.authenticator.authenticate({dialogLoginPage:this.loginDialogPage,loginPage:this.loginPage,transport:this.transport,proxy:this.proxy,proxyPath:this.proxyPath,loginUi:b.loginUi||this.loginUi,name:this.name,callback:function(){d.request(a,b).response.then(function(a){c.fulfilled(a.data);c.response.fulfilled(a)},function(a){c.rejected(a);c.response.rejected(a)})},cancel:function(){d._authRejected=!0;var a=Error();a.message="Authentication is required and has failed or has not yet been provided.";
a.code=401;c.rejected(a);c.response.rejected(a)}})},_isAuthRequired:function(a,c){var d=new b,f=a.response.status||null,f=401==f||f==this.authenticationErrorCode;if(this.isAuthenticated)f?this.isAuthenticationValid().then(function(a){d.fulfilled(!a.result)},function(a){d.rejected(a)}):d.fulfilled(!1);else{var g=c.autoAuthenticate||this.autoAuthenticate;void 0==g&&(g=!0);d.fulfilled(f&&g&&this.authenticator&&!this._authRejected)}return d},getErrorMessage:function(a){var b=a.responseText||a.response&&
a.response.text;if(b){try{var c=m.parse(b).getElementsByTagName("message");c&&0!=c.length&&(b=c[0].text||c[0].textContent,b=d.trim(b))}catch(f){}return b.replace(/(\r\n|\n|\r)/g,"")?b:a.message}return a}})})},"sbt/pathUtil":function(){define(["./stringUtil"],function(e){return{concat:function(d,c){if(!d)return c;if(!c)return d;e.endsWith(d,"/")&&(d=d.substring(0,d.length-1));e.startsWith(c,"/")&&(c=c.substring(1));return d+"/"+c},isAbsolute:function(d){return 0<=d.indexOf("://")}}})},"sbt/compat":function(){define([],
function(){if(!Array.prototype.indexOf)Array.prototype.indexOf=function(e,d){for(var c=d||0,b=this.length;c<b;c++)if(this[c]===e)return c;return-1};return{}})},"sbt/Proxy":function(){define(["./declare","./lang","./pathUtil"],function(e,d,c){return e(null,{proxyUrl:null,constructor:function(b){d.mixin(this,b)},rewriteUrl:function(b,a,d){b=a;return this.proxyUrl?(0==b.indexOf("http://")?b="/http/"+b.substring(7):0==b.indexOf("https://")&&(b="/https/"+b.substring(8)),d&&(b=c.concat(d,b)),c.concat(this.proxyUrl,
b)):b}})})},"sbt/_bridge/Transport":function(){define("dojo/_base/declare,dojo/_base/xhr,dojo/_base/lang,dojox/xml/parser,sbt/util,sbt/Promise".split(","),function(e,d,c,b,a,f){return e(null,{request:function(a,b){var c=b.method||"GET",c=c.toUpperCase(),d=this.createQuery(b.query),e=a;e&&d&&(e+=(~e.indexOf("?")?"&":"?")+d);d={url:e,handleAs:b.handleAs||"text"};if(b.headers)d.headers=b.headers;e=!1;if("PUT"==c)d.putData=b.data||null,e=!0;else if("POST"==c)d.postData=b.data||null,e=!0;var n=new f;n.response=
new f;var k=this;d.handle=function(c,d){c instanceof Error?(c.response=k.createResponse(a,b,c,d),n.rejected(c),n.response.rejected(c)):(n.fulfilled(c),n.response.fulfilled(k.createResponse(a,b,c,d)))};this.xhr(c,d,e);return n},createResponse:function(a,b,c,d){var f=d._ioargs.xhr;return{url:a,options:b,data:c,text:"text"==(b.handleAs||"text")?c:null,status:f.status,getHeader:function(a){return f.getResponseHeader(a)},xhr:f,_ioargs:d._ioargs}},createQuery:function(a){if(!a)return null;var b=[],c;for(c in a){var d=
a[c];b.push(encodeURIComponent(c)+"="+encodeURIComponent(d))}return b.join("&")},xhr:function(a,b,f){var e=c.mixin({},b),j=this;e.handle=function(a,c){j.handleResponse(a,c,b)};d(a,e,f)},handleResponse:function(b,c,d){var f=b;b instanceof Error&&(f=this.createError(b,c));try{var e={args:d,headers:a.getAllResponseHeaders(c.xhr),_ioargs:c};d.handle(f,e)}catch(n){console.log(n)}},createError:function(a){var b=Error();b.code=a.status||a.response&&a.response.status||400;b.cause=a;if(a.response)b.response=
c.mixin({},a.response);return b}})})},"dojox/xml/parser":function(){define(["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/_base/window","dojo/_base/sniff"],function(e){e.getObject("xml.parser",!0,dojox);dojox.xml.parser.parse=function(d,c){var b=e.doc,a,c=c||"text/xml";if(d&&e.trim(d)&&"DOMParser"in e.global){a=(new DOMParser).parseFromString(d,c);b=a.documentElement;if("parsererror"==b.nodeName&&"http://www.mozilla.org/newlayout/xml/parsererror.xml"==b.namespaceURI){var f=b.getElementsByTagNameNS("http://www.mozilla.org/newlayout/xml/parsererror.xml",
"sourcetext")[0];if(f)f=f.firstChild.data;throw Error("Error parsing text "+b.firstChild.data+" \n"+f);}return a}if("ActiveXObject"in e.global){b=function(a){return"MSXML"+a+".DOMDocument"};b=["Microsoft.XMLDOM",b(6),b(4),b(3),b(2)];e.some(b,function(b){try{a=new ActiveXObject(b)}catch(c){return!1}return!0});if(d&&a&&(a.async=!1,a.loadXML(d),b=a.parseError,0!==b.errorCode))throw Error("Line: "+b.line+"\nCol: "+b.linepos+"\nReason: "+b.reason+"\nError Code: "+b.errorCode+"\nSource: "+b.srcText);if(a)return a}else if(b.implementation&&
b.implementation.createDocument){if(d&&e.trim(d)&&b.createElement){f=b.createElement("xml");f.innerHTML=d;var i=b.implementation.createDocument("foo","",null);e.forEach(f.childNodes,function(a){i.importNode(a,!0)});return i}return b.implementation.createDocument("","",null)}return null};dojox.xml.parser.textContent=function(d,c){if(1<arguments.length)return dojox.xml.parser.replaceChildren(d,(d.ownerDocument||e.doc).createTextNode(c)),c;if(void 0!==d.textContent)return d.textContent;var b="";d&&e.forEach(d.childNodes,
function(a){switch(a.nodeType){case 1:case 5:b+=dojox.xml.parser.textContent(a);break;case 3:case 2:case 4:b+=a.nodeValue}});return b};dojox.xml.parser.replaceChildren=function(d,c){var b=[];e.isIE&&e.forEach(d.childNodes,function(a){b.push(a)});dojox.xml.parser.removeChildren(d);e.forEach(b,e.destroy);e.isArray(c)?e.forEach(c,function(a){d.appendChild(a)}):d.appendChild(c)};dojox.xml.parser.removeChildren=function(d){for(var c=d.childNodes.length;d.hasChildNodes();)d.removeChild(d.firstChild);return c};
dojox.xml.parser.innerXML=function(d){return d.innerXML?d.innerXML:d.xml?d.xml:"undefined"!=typeof XMLSerializer?(new XMLSerializer).serializeToString(d):null};return dojox.xml.parser})},"sbt/util":function(){define(["./lang","sbt/i18n!sbt/nls/util","./log"],function(e,d,c){function b(a,b){if(b&&(b.error||b.handle)){if(b.error)try{b.error(a)}catch(e){c.error(d.notifyError_catchError,e)}if(b.handle)try{b.handle(a)}catch(g){c.error(d.notifyError_catchError,g)}}else c.error(d.notifyError_console,a.code,
a.message)}return{notifyError:b,checkObjectClass:function(a,d,e,g){return a.declaredClass!=d?(g?b({code:400,message:e},g):c(e),!1):!0},checkNullValue:function(a,d,e){if(a)return!0;e?b({code:400,message:d},e):c(d);return!1},minVersion:function(a,b){for(var c=a.split("."),d=b.split("."),e=0;e<c.length;++e){if(d.length==e)return!1;if(c[e]!=d[e])return c[e]>d[e]?!1:!0}return!0},getAllResponseHeaders:function(a){var b={};try{var c=a.getAllResponseHeaders();if(c)for(var d=c.split("\n"),a=0;a<d.length;a++){var h=
d[a].indexOf(":"),m=e.trim(d[a].substring(0,h)),j=e.trim(d[a].substring(h+1));0<m.length&&(b[m]=j)}}catch(n){console.log(n)}return b},createQuery:function(a,b){if(!a)return null;var c=b;c||(c=",");var d=[],e;for(e in a){var m=a[e];d.push(encodeURIComponent(e)+"="+encodeURIComponent(m))}return d.join(c)},getJavaScriptLibrary:function(){var a="Unknown";window.dojo?dojo.version&&(a="Dojo "+dojo.version):define&&define.amd&&define.amd.vendor&&"dojotoolkit.org"===define.amd.vendor?require(["dojo/_base/kernel"],
function(b){a="Dojo AMD "+b.version}):window.jQuery&&(a="JQuery "+jQuery.fn.jquery);return a}}})},"sbt/authenticator/Basic":function(){define(["../declare","../lang","../util","../i18n!../nls/loginForm"],function(e,d,c,b){return e(null,{loginUi:"",loginPage:"/sbt/authenticator/templates/login.html",dialogLoginPage:"authenticator/templates/loginDialog.html",url:"",constructor:function(a){d.mixin(this,a||{})},authenticate:function(a){var b=this;require(["sbt/config"],function(c){var d=a.loginUi||c.Properties.loginUi||
b.loginUi,e=a.loginPage||c.Properties.loginPage||b.loginPage,m=a.dialogLoginPage||c.Properties.dialogLoginPage||b.dialogLoginPage;"popup"==d?b._authPopup(a,e,c,b.url):"dialog"==d?b._authDialog(a,m,c):b._authMainWindow(a,e,b.url)});return!0},_authDialog:function(a,c,d){require(["sbt/_bridge/ui/BasicAuth_Dialog","sbt/dom"],function(e,h){if(a.cancel)d.cancel=a.cancel;e.show(a,c);h.setText("wrongCredsMessage",b.wrong_creds_message);h.setText("basicLoginFormUsername",b.username);h.setText("basicLoginFormPassword",
b.password);h.setAttr(h.byId("basicLoginFormOK"),"value",b.login_ok);h.setAttr(h.byId("basicLoginFormCancel"),"value",b.login_cancel)});return!0},_authPopup:function(a,d,e,g){var h=a.proxy.proxyUrl,h={actionURL:h.substring(0,h.lastIndexOf("/"))+"/basicAuth/"+a.proxyPath+"/JSApp",redirectURL:"empty",loginUi:"popup",showWrongCredsMessage:"false"},h=c.createQuery(h,"&"),d=g+d+"?"+h,g=c.createQuery({width:window.screen.availWidth/2,height:window.screen.availHeight/2,left:window.screen.availWidth/4,top:window.screen.availHeight/
4,menubar:0,toolbar:0,status:0,location:0,scrollbars:1,resizable:1},","),d=window.open(d,"Authentication",g);if(a.callback)e.callback=a.callback,d.callback=a.callback;if(a.cancel)e.cancel=a.cancel,d.cancel=a.cancel;d.globalLoginFormStrings=b;d.globalEndpointAlias=a.name;d.focus();return!0},_authMainWindow:function(a,d,e){var g=a.proxy.proxyUrl,a={actionURL:g.substring(0,g.lastIndexOf("/"))+"/basicAuth/"+a.proxyPath+"/JSApp",redirectURL:document.URL,loginUi:"mainWindow",showWrongCredsMessage:"false",
username:b.username,password:b.password,login_ok:b.login_ok,login_cancel:b.login_cancel,wrong_creds_message:b.wrong_creds_message},a=c.createQuery(a,"&");window.location.href=e+d+"?"+a;return!0}})})},"sbt/authenticator/OAuth":function(){define(["../declare","../lang","../util"],function(e,d,c){return e(null,{url:"",loginUi:"",constructor:function(b){d.mixin(this,b||{})},authenticate:function(b){var a=this;require(["sbt/config"],function(c){c=b.loginUi||c.Properties.loginUi||this.loginUi;return"popup"==
c?a._authPopup(b,a.url):"dialog"==c?a._authDialog(b,a.url):a._authMainWindow(b,a.url)})},_authMainWindow:function(b,a){var c=a+"?oaredirect="+encodeURIComponent(window.location.href);newwindow=window.location.href=c;return!0},_authPopup:function(b,a){require(["sbt/config"],function(d){d.callback=b.callback;var d=a+"?loginUi=popup",e=c.createQuery({height:window.screen.availHeight/2,width:window.screen.availWidth/3},",");newwindow=window.open(d,"Authentication",e);return!0})},_authDialog:function(b,
a){require(["sbt/_bridge/ui/OAuth10_Dialog"],function(b){b.show(a)});return!0}})})},"sbt/i18n":function(){define(["./_bridge/i18n"],function(e){e.getUpdatedLabel=function(d){var d=new Date(d),c=new Date(d.getTime()),b=new Date;return c.setHours(0,0,0,0)==b.setHours(0,0,0,0)?"today at "+this.getLocalizedTime(d):"on "+this.getLocalizedDate(d)};e.getSearchUpdatedLabel=function(d){var d=new Date(d),c=new Date(d.getTime()),b=new Date;return c.setHours(0,0,0,0)==b.setHours(0,0,0,0)?"today at "+this.getLocalizedTime(d):
this.getLocalizedDate(d)};return e})},"*now":function(e){e(['dojo/i18n!*preload*sbt/nls/baseLayer*["ar","ca","cs","da","de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])}}});define([],1);